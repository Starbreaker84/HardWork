## Абстрагируем управляющие паттерны

### Пример №1
Пример взят из рбочего проекта. Очень часто в коде программы требовалось обновлять поля в хранилище данных заявки (отдельное приложение), взаимодействие с которым происходит через GraphQL запрос.

**Было:**
``` Kotlin
// Код внутри класса сервиса

val addedField = Field(name = TEMPORARY, value = TRUE)
opportunity.patchOpportunity(
    integrationID,
    PatchOpportunity {
      data {
        ...
        field {
          addedField
        }
      ...
      }
    })
```

Несмотря на удобство технологии GraphQL, если работать с ней напрямую с достаточно большими объектами (а вот конкретно в объекте Заявка, в котором обновляются поля, их там около 20), очень часто возникают ошибки чтения/записи в эти поля. Проблема в жестком соблюдении иерархии при запросе.
Было принято решение создать некую абстракцию на изменение самых часто встречающихся полей, чтобы остальные разработчики не думали о том, правильно они обращаются к полям по иерархии, а только указывали что они хотят изменить с соответствующими значениями. Такие аессоры, так сказать.

**Стало:**
``` Kotlin
// Код внутри класса сервиса
fieldAccessor.save(opportunity.integraionId, TEMPORARY, TRUE)
```

Как видно, помимо существенного уменьшения кодовой базы мы дополнительно исключили возникнвение непредвиденных ошибок.

